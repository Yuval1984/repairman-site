<!-- Bookmark Tab - Fixed at top -->
<a class="bookmark-tab" routerLink="/">לעמוד הבית</a>

<!-- HERO -->
<header class="hero" itemscope itemtype="https://schema.org/Electrician">
  <div class="hero__content">
    <!-- Text section: title and skills in column -->
    <div class="hero__text-section">
      <div class="hero__title-section">
        <h1 class="hero__title"><span class="strong">טכנו גו'</span><br />חשמלאי מוסמך</h1>
        <p class="hero__lead">שירותי חשמל לביתך ולעסק</p>
      </div>

      <div class="hero__copy">
        <ul class="hero__bullets">
          <li>🧯 תיקון קצרים ותקלות חשמל מיידיות</li>
          <li>💡 התקנת תאורה לבית ולגינה</li>
          <li>🔌 החלפת שקעים, פחתים ולוחות חשמל</li>
          <li>🏠 הכנת תשתית חשמל לשיפוץ או בנייה חדשה</li>
          <li>⚙️ איתור ותיקון זליגות הארקה ובדיקות בטיחות</li>
        </ul>
      </div>
    </div>

    <!-- Photo on the left -->
    <div class="hero__media">
      <img
        src="/assets/electrician.jpg"
        alt="ג'ו טכנו - חשמלאי מוסמך #975186 עם כלי עבודה"
        loading="eager"
        width="400"
        height="400"
      />
    </div>
  </div>

  <!-- Buttons -->
  <div class="hero__cta">
    <button class="btn btn--dark" (click)="openDialog()">הזמן ביקור</button>
    <a
      class="btn btn--yellow"
      href="tel:+972544818383"
      itemprop="telephone"
      content="+972544818383"
    >
      התקשר: 054-481-8383
    </a>
  </div>
</header>

<!-- VISIT BOOKING DIALOG -->
<div class="modal-backdrop" *ngIf="showDialog()" (click)="closeDialog()"></div>
<div
  class="modal"
  *ngIf="showDialog()"
  role="dialog"
  aria-modal="true"
  aria-labelledby="visitDialogTitle"
>
  <div class="modal__card" (click)="$event.stopPropagation()">
    <div class="modal__header">
      <h3 id="visitDialogTitle">הזמן ביקור</h3>
      <button class="modal__close" (click)="closeDialog()" aria-label="סגור">✕</button>
    </div>
    <form class="contact__form" [formGroup]="contactForm" (ngSubmit)="submit()">
      <div class="row">
        <div class="field">
          <input
            placeholder="שם"
            formControlName="name"
            [class.invalid]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched"
          />
          <div
            class="error-text"
            *ngIf="contactForm.get('name')?.touched && contactForm.get('name')?.errors"
          >
            <span *ngIf="contactForm.get('name')?.errors?.['required']">יש להזין שם</span>
            <span *ngIf="contactForm.get('name')?.errors?.['minlength']"
              >השם חייב להכיל לפחות 2 תווים</span
            >
          </div>
        </div>
        <div class="field">
          <input
            placeholder="מספר טלפון"
            formControlName="phone"
            [class.invalid]="contactForm.get('phone')?.invalid && contactForm.get('phone')?.touched"
          />
          <div
            class="error-text"
            *ngIf="contactForm.get('phone')?.touched && contactForm.get('phone')?.errors"
          >
            <span *ngIf="contactForm.get('phone')?.errors?.['required']">יש להזין מספר טלפון</span>
            <span *ngIf="contactForm.get('phone')?.errors?.['pattern']"
              >מספר טלפון חייב להתחיל ב-0 ולהכיל בדיוק 10 ספרות</span
            >
          </div>
        </div>
      </div>
      <div class="field">
        <textarea
          rows="5"
          placeholder="הודעה"
          formControlName="message"
          [class.invalid]="
            contactForm.get('message')?.invalid && contactForm.get('message')?.touched
          "
        ></textarea>
        <div
          class="error-text"
          *ngIf="contactForm.get('message')?.touched && contactForm.get('message')?.errors"
        >
          <span *ngIf="contactForm.get('message')?.errors?.['required']">יש להזין הודעה</span>
          <span *ngIf="contactForm.get('message')?.errors?.['minlength']"
            >ההודעה חייבת להכיל לפחות 5 תווים</span
          >
        </div>
      </div>
      <div class="actions">
        <button class="btn btn--yellow" type="submit" [disabled]="sending()">
          {{ sending() ? 'שולח…' : 'שליחה' }}
        </button>
        <span class="sent" *ngIf="sent()">✓ הודעה נשלחה!</span>
        <span class="error" *ngIf="error()">❌ {{ error() }}הודעה לא נשלחה!</span>
      </div>
    </form>
  </div>
</div>

<!-- SERVICES -->
<section class="services">
  <div class="section__inner">
    <h2 class="section__title white_text">השירותים שלי</h2>
    <div class="cards services__grid">
      <button
        type="button"
        class="svc"
        (mouseenter)="setServiceDescription('איתור ותיקון בעיות במערכת ההארקה למניעת התחשמלות.')"
        (focus)="setServiceDescription('איתור ותיקון בעיות במערכת ההארקה למניעת התחשמלות.')"
      >
        <span class="svc__icon">⚡</span>
        <span class="svc__title">תיקון זליגת הארקה</span>
      </button>
      <button
        type="button"
        class="svc"
        (mouseenter)="
          setServiceDescription('חיבור והתקנת לוח חשמל ראשי או משני, כולל מפסקים אוטומטיים ופחתים.')
        "
        (focus)="
          setServiceDescription('חיבור והתקנת לוח חשמל ראשי או משני, כולל מפסקים אוטומטיים ופחתים.')
        "
      >
        <span class="svc__icon">🔌</span>
        <span class="svc__title">התקנת לוחות חשמל</span>
      </button>
      <button
        type="button"
        class="svc"
        (mouseenter)="
          setServiceDescription('איתור מקור הקצר (מכשיר, חוט, שקע) ותיקונו בצורה בטוחה.')
        "
        (focus)="setServiceDescription('איתור מקור הקצר (מכשיר, חוט, שקע) ותיקונו בצורה בטוחה.')"
      >
        <span class="svc__icon">⚠️</span>
        <span class="svc__title">תיקון קצר חשמלי</span>
      </button>
      <button
        type="button"
        class="svc"
        (mouseenter)="setServiceDescription('החלפה או התקנה של שקעים, מפסקים, נקודות חשמל ותאורה.')"
        (focus)="setServiceDescription('החלפה או התקנה של שקעים, מפסקים, נקודות חשמל ותאורה.')"
      >
        <span class="svc__icon">🔘</span>
        <span class="svc__title">החלפת שקעים ומפסקים</span>
      </button>
      <button
        type="button"
        class="svc"
        (mouseenter)="setServiceDescription('התקנת גופי תאורה, ספוטים, תאורת גינה ותאורת חירום.')"
        (focus)="setServiceDescription('התקנת גופי תאורה, ספוטים, תאורת גינה ותאורת חירום.')"
      >
        <span class="svc__icon">💡</span>
        <span class="svc__title">התקנת תאורה פנימית וחיצונית</span>
      </button>
      <button
        type="button"
        class="svc"
        (mouseenter)="setServiceDescription('ביצוע בדיקות בטיחות למערכת החשמל בבית או בעסק.')"
        (focus)="setServiceDescription('ביצוע בדיקות בטיחות למערכת החשמל בבית או בעסק.')"
      >
        <span class="svc__icon">📋</span>
        <span class="svc__title">בדיקות תקינות והארקה</span>
      </button>
      <button
        type="button"
        class="svc"
        (mouseenter)="
          setServiceDescription('החלפת חוטים, שדרוג עומסים, והחלפת לוחות ישנים לתקניים.')
        "
        (focus)="setServiceDescription('החלפת חוטים, שדרוג עומסים, והחלפת לוחות ישנים לתקניים.')"
      >
        <span class="svc__icon">🔧</span>
        <span class="svc__title">שדרוג מערכת חשמל ישנה</span>
      </button>
      <button
        type="button"
        class="svc"
        (mouseenter)="setServiceDescription('חיווט ותכנון נקודות חשמל בבנייה חדשה או בשיפוץ.')"
        (focus)="setServiceDescription('חיווט ותכנון נקודות חשמל בבנייה חדשה או בשיפוץ.')"
      >
        <span class="svc__icon">🏗️</span>
        <span class="svc__title">התקנת מערכות חשמל חדשות</span>
      </button>
      <button
        type="button"
        class="svc"
        (mouseenter)="
          setServiceDescription(
            'חיבור תנורים, מזגנים, מדיחים או מכונות כביסה בצורה בטוחה עם הגנה מתאימה.'
          )
        "
        (focus)="
          setServiceDescription(
            'חיבור תנורים, מזגנים, מדיחים או מכונות כביסה בצורה בטוחה עם הגנה מתאימה.'
          )
        "
      >
        <span class="svc__icon">🔩</span>
        <span class="svc__title">חיבור מכשירים כבדים</span>
      </button>
    </div>
    <div class="svc-panel" [class.svc-panel--visible]="activeServiceDesc()">
      {{ activeServiceDesc() || 'העבר עכבר מעל שירות להצגת פירוט' }}
    </div>
  </div>
</section>

<!-- PORTFOLIO / WORK GALLERY -->
<section class="portfolio">
  <div class="section__inner">
    <h2 class="section__title black_text">גלריית עבודות</h2>
    <p class="portfolio__subtitle">פרויקטים חשמליים מוסמכים בחדרה, נתניה וכל הארץ</p>

    <!-- Bootstrap 5 Carousel -->
    <div id="workCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button
          *ngFor="let image of workImages; let i = index"
          type="button"
          data-bs-target="#workCarousel"
          [attr.data-bs-slide-to]="i"
          [class.active]="i === 0"
          [attr.aria-current]="i === 0 ? 'true' : null"
          [attr.aria-label]="'Slide ' + (i + 1)"
        ></button>
      </div>
      <div class="carousel-inner">
        <div
          class="carousel-item"
          *ngFor="let image of workImages; let i = index"
          [class.active]="i === 0"
        >
          <img
            [src]="image.src"
            class="d-block w-100"
            [alt]="image.alt"
            [loading]="i === 0 ? 'eager' : 'lazy'"
          />
          <div class="carousel-caption d-none d-md-block">
            <h5>{{ image.caption }}</h5>
          </div>
        </div>
      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#workCarousel"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#workCarousel"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section class="contact" id="contact">
  <div class="section__inner contact__grid">
    <div class="contact__left">
      <h2>צור קשר עכשיו</h2>
      <div class="phone">054-4818383</div>
      <meta itemprop="url" content="https://repairmen.co.il/electrician" />
      <meta itemprop="areaServed" content="חדרה, נתניה, ישראל" />
    </div>

    <form class="contact__form" [formGroup]="contactForm" (ngSubmit)="submit()">
      <div class="row">
        <div class="field">
          <input
            placeholder="שם"
            formControlName="name"
            [class.invalid]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched"
          />
          <div
            class="error-text"
            *ngIf="contactForm.get('name')?.touched && contactForm.get('name')?.errors"
          >
            <span *ngIf="contactForm.get('name')?.errors?.['required']">יש להזין שם</span>
            <span *ngIf="contactForm.get('name')?.errors?.['minlength']"
              >השם חייב להכיל לפחות 2 תווים</span
            >
          </div>
        </div>
        <div class="field">
          <input
            placeholder="מספר טלפון"
            formControlName="phone"
            [class.invalid]="contactForm.get('phone')?.invalid && contactForm.get('phone')?.touched"
          />
          <div
            class="error-text"
            *ngIf="contactForm.get('phone')?.touched && contactForm.get('phone')?.errors"
          >
            <span *ngIf="contactForm.get('phone')?.errors?.['required']">יש להזין מספר טלפון</span>
            <span *ngIf="contactForm.get('phone')?.errors?.['pattern']"
              >מספר טלפון חייב להתחיל ב-0 ולהכיל בדיוק 10 ספרות</span
            >
          </div>
        </div>
      </div>
      <div class="field">
        <textarea
          rows="5"
          placeholder="הודעה"
          formControlName="message"
          [class.invalid]="
            contactForm.get('message')?.invalid && contactForm.get('message')?.touched
          "
        ></textarea>
        <div
          class="error-text"
          *ngIf="contactForm.get('message')?.touched && contactForm.get('message')?.errors"
        >
          <span *ngIf="contactForm.get('message')?.errors?.['required']">יש להזין הודעה</span>
          <span *ngIf="contactForm.get('message')?.errors?.['minlength']"
            >ההודעה חייבת להכיל לפחות 5 תווים</span
          >
        </div>
      </div>

      <div class="actions">
        <button class="btn btn--yellow" type="submit" [disabled]="sending()">
          {{ sending() ? 'שולח…' : 'שליחה' }}
        </button>
        <span class="sent" *ngIf="sent()">✓ הודעה נשלחה!</span>
        <span class="error" *ngIf="error()">❌ {{ error() }}הודעה לא נשלחה!</span>
      </div>
    </form>
  </div>
</section>

<!-- WHY / TESTIMONIALS -->
<section class="why">
  <div class="section__inner">
    <h2 class="section__title black_text">הלקוחות מספרים</h2>
    <div
      id="quotesCarousel"
      class="carousel slide"
      data-bs-ride="carousel"
      aria-label="ביקורות לקוחות"
    >
      <div class="carousel-indicators">
        <button
          *ngFor="let q of quotes; let i = index"
          type="button"
          data-bs-target="#quotesCarousel"
          [attr.data-bs-slide-to]="i"
          [class.active]="i === 0"
          [attr.aria-current]="i === 0 ? 'true' : null"
          [attr.aria-label]="'Slide ' + (i + 1)"
        ></button>
      </div>

      <div class="carousel-inner quotes-carousel__inner">
        <div class="carousel-item" *ngFor="let q of quotes; let i = index" [class.active]="i === 0">
          <div class="quote-card quotes-carousel__card">{{ q }}</div>
        </div>
      </div>

      <button
        class="carousel-control-prev quotes-carousel__ctrl"
        type="button"
        data-bs-target="#quotesCarousel"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next quotes-carousel__ctrl"
        type="button"
        data-bs-target="#quotesCarousel"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>

<!-- SOCIAL MEDIA SECTION -->
<section class="social-section">
  <div class="social-section__inner">
    <h2 class="social-section__title white_text">צור קשר עכשיו</h2>
    <p class="social-section__subtitle">צור קשר עכשיו באמצעות פייסבוק, וואטסאפ או בדרך הטלפון</p>

    <div class="social-icons">
      <a
        href="https://wa.me/972544818383"
        target="_blank"
        rel="noopener noreferrer"
        class="social-icon social-icon--whatsapp"
        aria-label="WhatsApp"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"
          />
        </svg>
        <span>WhatsApp</span>
      </a>

      <a href="tel:+972544818383" class="social-icon social-icon--phone" aria-label="Phone">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"
          />
        </svg>
        <span>054-481-8383</span>
      </a>

      <a
        href="mailto:joe@repairman.co.il"
        class="social-icon social-icon--email"
        aria-label="Email"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"
          />
        </svg>
        <span>שלח מייל</span>
      </a>

      <a
        href="https://facebook.com"
        target="_blank"
        rel="noopener noreferrer"
        class="social-icon social-icon--facebook"
        aria-label="Facebook"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
          />
        </svg>
        <span>Facebook</span>
      </a>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer__row">
    <div class="brand">© {{ year }} Repairman.co.il</div>
  </div>
  <div class="footer__credit">
    <p>
      האתר נבנה על ידי
      <a
        href="https://yuval1984.github.io/profile/"
        target="_blank"
        rel="noopener noreferrer"
        class="credit-link"
        >Yuval Kogan</a
      >
    </p>
  </div>
</footer>
